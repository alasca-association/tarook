apiVersion: ceph.rook.io/v1
kind: CephBlockPool
metadata:
  name: {{ item.name | to_json }}
  namespace: {{ rook_namespace | to_json }}
spec:
  failureDomain: {{ item.failure_domain | default('host') | to_json }}
{% if item.erasure_coded | default(False) %}
  erasureCoded:
    dataChunks: {{ item.erasure_coded.data_chunks | default(2) | to_json }}
    codingChunks: {{ item.erasure_coded.coding_chunks | default(1) | to_json }}
{% else %}
  replicated:
    size: {{ item.replicated | default(1) | to_json }}
{% endif %}
  deviceClass: hdd
