rook: false

rook_namespace: rook-ceph
rook_cluster_name: rook-ceph

rook_nmons: 3
rook_mon_volume: true
rook_mon_volume_storage_class: local-storage
rook_mon_volume_size: 10Gi
rook_mon_allow_multiple_per_node: false
rook_mon_memory_limit: "1Gi"
rook_mon_memory_request: "{{ rook_mon_memory_limit }}"
rook_mon_cpu_limit: "100m"
rook_mon_cpu_request: "50m"

rook_mgr_use_pg_autoscaler: true
rook_mgr_memory_limit: "512Mi"
rook_mgr_memory_request: "{{ rook_mgr_memory_limit }}"
rook_mgr_cpu_limit: "500m"
rook_mgr_cpu_request: "100m"

# rook_nosds: 3
# rook_osd_volume_size: 100Gi
rook_osd_storage_class: csi-sc-cinderplugin
rook_osd_anti_affinity: true
rook_osd_autodestroy_safe: true
rook_osd_memory_limit: "2Gi"
rook_osd_memory_request: "{{ rook_osd_memory_limit }}"
rook_osd_cpu_limit: "500m"
rook_osd_cpu_request: "{{ rook_osd_cpu_limit }}"

rook_mds_memory_limit: "4Gi"
rook_mds_memory_request: "{{ rook_mds_memory_limit }}"
rook_mds_cpu_limit: "1"
rook_mds_cpu_request: "{{ rook_mds_cpu_limit }}"

rook_operator_memory_limit: "256Mi"
rook_operator_memory_request: "{{ rook_operator_memory_limit }}"
rook_operator_cpu_limit: "100m"
rook_operator_cpu_request: "{{ rook_operator_cpu_limit }}"

rook_toolbox: true

rook_fs: false
rook_fs_name: "ceph-fs"
rook_fs_replicated: 1
rook_fs_preserve_pools_on_delete: false

rook_pools:
- name: data
  create_storage_class: block

rook_scheduling_key: null

# ToDo: REMOVE ME after refactoring service layer inventories/variables
# hack because k8s-config is not available on this layer
k8s_version_minor: "1.18"

# TODO: remove this as it is does nothing of use
rook_image_version_map:
  "1.17":
    ceph: "{{ rook_ceph_versions.ceph }}"
    operator: "{{ rook_version }}"
    toolbox: "{{ rook_version }}"

  "1.18":
    ceph: "{{ rook_ceph_versions.ceph }}"
    operator: "{{ rook_version }}"
    toolbox: "{{ rook_version }}"

  "1.19":
    ceph: "{{ rook_ceph_versions.ceph }}"
    operator: "{{ rook_version }}"
    toolbox: "{{ rook_version }}"

rook_version: "v1.2.3" # default

rook_ceph_version_map:
  "v1.2.3": # default
    ceph: "v14.2.6" # default
  "v1.3.11":
    ceph: "v14.2.21"
  "v1.4.9":
    ceph: "v15.2.13"
  "v1.5.12":
    ceph: "v15.2.13"
  "v1.6.7":
    ceph: "v16.2.5"

rook_ceph_versions: "{{ rook_ceph_version_map[rook_version] }}"

# If OSDs are not replicated, the rook-ceph-operator will reject
# to perform upgrades, because OSDs will become unavailable.
# Set to True so rook will update even if OSDs would become unavailable
rook_skip_upgrade_checks: False

# Each rook release does only support certain major releases of ceph.
rook_supported_releases:
  - rook_release: "v1.2"
    supported_ceph_releases:
      - v13
      - v14
  - rook_release: "v1.3"
    supported_ceph_releases:
      - v14
      - v15
  - rook_release: "v1.4"
    supported_ceph_releases:
      - v14
      - v15
  - rook_release: "v1.5"
    supported_ceph_releases:
      - v14 # actually v14.2.5
      - v15 # actually v15.2.0
  - rook_release: "v1.6"
    supported_ceph_releases:
      - v14
      - v15
      - v16
