---
- name: Ensure that pip is installed
  become: yes
  package:
    state: present
    name:
    - python3-pip
  tags:
  - k8s-tools

- name: Ensure that kubernetes libraries are installed
  become: yes
  pip:
    name:
    - openshift
    - kubernetes
    - kubernetes-validate
    state: latest
  when: ansible_facts.env.VIRTUAL_ENV is not defined
  tags:
  - k8s-tools
