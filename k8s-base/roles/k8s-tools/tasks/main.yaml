---
- name: Ensure that pip is installed
  become: yes
  package:
    state: present
    name:
    - python3-pip
  tags:
  - k8s-tools

- name: Ensure that kubernetes libraries are installed
  become: yes
  pip:
    name:
    - openshift
    - kubernetes
    - kubernetes-validate
    state: latest
    extra_args: "{{ (ansible_pkg_mgr == 'apt') | ternary('--system', '') }}"
  tags:
  - k8s-tools
