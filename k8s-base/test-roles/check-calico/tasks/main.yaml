---
- name: Check that calicoctl is installed on all master nodes
  ansible.builtin.include_tasks: test-calicoctl.yaml
  when: k8s_network_plugin == 'calico' and not (calico_use_tigera_operator | default(False) | bool)

- name: Check CNI Plugins
  ansible.builtin.include_tasks: test-calico-cni-plugins.yaml

- name: Check CNI Plugins
  ansible.builtin.include_tasks: test-calico-cni-plugins.yaml
  when: k8s_network_plugin == 'calico' and not (calico_use_tigera_operator | default(False) | bool)

- name: Check that calico/node and typha Pods are running
  ansible.builtin.include_tasks: test-pod-readiness.yaml

- name: Check Pod-to-Pod connectivity
  ansible.builtin.include_tasks: test-pod-connectivity.yaml
...
